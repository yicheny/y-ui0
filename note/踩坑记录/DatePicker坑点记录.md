[TOC]

# `onChange`触发
## 问题描述
- 点击面板选择日期会触发两次`onChange`【原因是触发了面板的onChange以及输入框的onBlur】
- 即使选择日期和修改前相同，依旧会触发`onChange`

## 想要实现的效果
- 点击面板选择日期修改日期，失去焦点后触发`onChange`
- 输入框输入或清空日期，失去焦点后触发`onChange`
- 无论是通过面板还是输入框改变日期，如果和改变前相同，则不触发`onChange`

## 实现思路
首先将两种情况，我们先考虑只能面板选择的情况。

通过面板选择日期，触发面板的`onChange`，面板关闭。<br/>
目前需要的解决的问题是：选择日期后需要做一个判定，如果新日期与现有日期相同，则不触发`onChange`：<br/>
因为存储时使用的是日期对象，不能直接进行比较，我的思路是转成时间戳在进行比较。

面板点击、输入框输入、输入框清空这些操作只会修改选择的日期，并不会触发`onChange`，`onChange`在面板关闭时触发。

触发`onChange`的前置判定：
- 是否是`focus:false`状态
- 关闭时的日期和开启时的日期是否相同
- `onChange`是否是一个函数
如果存在则执行`onChange`，并更新`initSelectedRef.current`
